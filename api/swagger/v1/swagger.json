{
  "openapi": "3.0.1",
  "info": {
    "title": "Documenta√ß√£o do CNAB",
    "version": "v1",
    "description": "## üìÑ Introdu√ß√£o\n\nVoc√™ recebeu um arquivo **CNAB** com os dados das movimenta√ß√µes financeiras de v√°rias lojas.  \nPrecisamos criar uma maneira para que estes dados sejam importados para um banco de dados.  \n\n**Objetivo**  \n- Criar uma interface web que aceite **upload do arquivo CNAB**  \n- Normalizar os dados e armazen√°-los em um **banco de dados relacional**  \n- Exibir essas informa√ß√µes na tela  \n\n## üìå Estrutura do Arquivo CNAB\n\n```\n| Descri√ß√£o do campo   | In√≠cio | Fim  | Tamanho | Coment√°rio |\n|----------------------|--------|------|---------|------------|\n| Tipo                 | 1      | 1    | 1       | Tipo da transa√ß√£o |\n| Data                 | 2      | 9    | 8       | Data da ocorr√™ncia |\n| Valor                | 10     | 19   | 10      | Valor da movimenta√ß√£o (divida por 100) |\n| CPF                  | 20     | 30   | 11      | CPF do benefici√°rio |\n| Cart√£o               | 31     | 42   | 12      | Cart√£o utilizado na transa√ß√£o |\n| Hora                 | 43     | 48   | 6       | Hora da ocorr√™ncia (UTC-3) |\n| Dono da loja         | 49     | 62   | 14      | Nome do representante da loja |\n| Nome loja            | 63     | 81   | 19      | Nome da loja |\n```\n\n## üìå Tipos de Transa√ß√µes\n\n```\n| Tipo | Descri√ß√£o                | Natureza | Sinal |\n|------|--------------------------|----------|-------|\n| 1    | D√©bito                   | Entrada  | +     |\n| 2    | Boleto                   | Sa√≠da    | -     |\n| 3    | Financiamento            | Sa√≠da    | -     |\n| 4    | Cr√©dito                  | Entrada  | +     |\n| 5    | Recebimento Empr√©stimo   | Entrada  | +     |\n| 6    | Vendas                   | Entrada  | +     |\n| 7    | Recebimento TED          | Entrada  | +     |\n| 8    | Recebimento DOC          | Entrada  | +     |\n| 9    | Aluguel                  | Sa√≠da    | -     |\n```\n\n"
  },
  "paths": {
    "/v1/transactions": {
      "get": {
        "summary": "Retrieve all transactions",
        "tags": [
          "Transactions"
        ],
        "responses": {
          "200": {
            "description": "transactions found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "store_name": {
                        "type": "string"
                      },
                      "balance": {
                        "type": "number"
                      },
                      "transactions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "description": {
                              "type": "string"
                            },
                            "date": {
                              "type": "string",
                              "format": "date"
                            },
                            "value": {
                              "type": "number"
                            },
                            "value_sign": {
                              "type": "number"
                            },
                            "cpf": {
                              "type": "string"
                            },
                            "card": {
                              "type": "string"
                            },
                            "transaction_type": {
                              "type": "string"
                            }
                          },
                          "required": [
                            "id",
                            "description",
                            "date",
                            "value",
                            "value_sign",
                            "cpf",
                            "card",
                            "transaction_type"
                          ]
                        }
                      }
                    },
                    "required": [
                      "store_name",
                      "balance",
                      "transactions"
                    ]
                  }
                }
              }
            }
          },
          "404": {
            "description": "not found"
          }
        }
      }
    },
    "/v1/upload": {
      "post": {
        "summary": "Faz o upload de um arquivo CNAB e inicia o processamento",
        "tags": [
          "Uploads"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Arquivo processado com sucesso"
          },
          "400": {
            "description": "Arquivo n√£o enviado"
          }
        },
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "file"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Servidor Local"
    }
  ]
}